\documentclass[12pt]{article}

\usepackage[utf8]{inputenc}
\usepackage[brazil]{babel}
\usepackage{amsmath,amssymb}
\usepackage{pdfsync}
\usepackage[all]{xy}
\usepackage{color}

\newcommand{\resposta}[1]{ \noindent {\bf Solução}.{\color{blue} #1}}

\title{{\large Universidade de Brasília \\ Instituto de Ciências Exatas \\
Departamento de Ciência da Computação} \\[1cm]
CIC 117536 - Projeto e Análise de Algoritmos \\[.5cm]  Terceira Prova \\[.5cm] Turma: B}
\author{{\bf NP-completude}}
\date{Prof. Flávio L. C. de Moura \\[.5cm] \today}

\begin{document}
\maketitle

\begin{enumerate}
\item {\bf (2.5 pontos)} O problema 2-SAT tem como instâncias as
  fórmulas lógicas formadas por conjunções de disjunções de até dois
  literais, onde um literal é uma variável booleana ou a negação de
  uma variável booleana. Por exemplo, a expressão a seguir é uma
  instância de 2-SAT:

  $$(x_1\lor \neg x_2)\land (\neg x_1 \lor \neg x_3) \land (x_1 \lor x_2) \land x_3$$

  Prove que 2-SAT $\in$ P.

 
  \resposta{
    Cria-se um digrafo contendo cada variável e a negação de cada uma em cada vértice e para cada $$(x\lor y)$$ é feito um vértice ligando $$(\neg x)$$ a y e um vértice ligando $$(\neg y)$$ a x.

	Com o digrafo pronto representando a fórmula, é feita a identificação de componentes fortemente conectados sem que a variável e a negação dela estejam no mesmo componente, isso é feito em tempo linear.

	Por essa montagem do digrafo, se houvesse um caminho de uma variável até a a negação dela, também teria um caminho da negação a ela mesma.

	Com isso, é possível verificar um caminho de uma variável à negação verificando se estão em componentes conectados em tempo polinomial.
  }
  
\item {\bf (2.5 pontos)} Em aula, assumimos que SAT é um problema
  NP-completo (Teorema de Cook-Levin), e a partir deste fato mostramos
  que 3-SAT e CLIQUE também são problemas NP-completos. As reduções
  foram feitas de acordo com o seguinte diagrama:

  $$\xymatrix{
    SAT \ar[d] \\
    3\mbox{-}SAT \ar[d] \\
    CLIQUE 
  }$$
  
  Um ciclo Hamiltoniano é um ciclo simple que visita cada vértice de
  um grafo exatamente uma vez. Considere o problema de decisão
  HAM-CYCLE que pergunta se um dado grafo (não-dirigido) $G$ possui um
  ciclo Hamiltoniano. Mostre que HAM-CYCLE é um problema
  NP-completo. Sua solução deve ser construída a partir de SAT, 3-SAT
  ou CLIQUE. Caso, você não veja como reduzir diretamente HAM-CYCLE a
  partir destes, mas sabe como fazê-lo a partir de um certo problema
  $Q$ então inicialmente mostre que $Q$ é NP-completo a partir de SAT,
  3-SAT ou CLIQUE, e assim por diante. Digamos que você não saiba como
  mostrar que $Q$ é NP-completo diretamente a partir de SAT, 3-SAT ou
  CLIQUE, mas você sabe como fazê-lo a partir de outro problema $Q'$,
  e também sabe como mostrar que $Q'$ é NP-completo a partir de 3-SAT,
  por exemplo. Então o diagrama correspondente à sua solução seria:

$$\xymatrix{
  SAT \ar[d] & & & \\
  3\mbox{-}SAT \ar[d]\ar[r] & Q' \ar[r] & Q \ar[r] & \mbox{HAM-CYCLE}  \\
  CLIQUE & & & 
}$$

E todas as reduções (de 3-SAT para $Q'$, de $Q'$ para $Q$ e de $Q$ para HAM-CYCLE) devem ser detalhadas na sua solução.

\resposta{
    Para provar que o ham-cycle não-dirigido é um problema np completo, pode-se mudá-lo para um ham-cycle dirigido para provar. Contudo, é necessário provar que o ham-cycle dirigido é um problema np completo. Para isso, usa-se a redução do 3-SAT.

Primeiro, para verificar que o ham-cyle dirigido é NP, basta usar um algoritmo que verifica se cada vértice que faz parte do ciclo aparece uma única vez no ciclo e percorrendo o caminho possa retornar ao primeiro vértice ao final do ciclo. Isso pode ser feito em tempo polinomial. Após isso, pode-se verificar se é NP completo a partir do 3-SAT.

Um 3-SAT contendo n variáveis possui $$2^n$$ possíveis cláusulas. Um grafo correspondendo a essas possibilidades é construído com n caminhos representando as variáveis e cada caminho possui 2k nós, ligados por arestas, em que k é o número de cláusulas da fórmula.

Depois é preciso ligar os caminhos e isso pode ser feito conectando cada vértice que inicia um caminho ao início e ao fim do próximo caminho e o mesmo é feito para o nó que termina um caminho, ligando ao ao início e ao fim do próximo caminho. Por fim, acrescenta-se 2 vértices intermediários, o primeiro com uma aresta em direção ao vértice de início do primeiro caminho e com outra aresta em direção ao vértice que termina o primeiro caminho. A partir do vértice que inicia o último caminho, é feita uma aresta em direção ao segundo vértice intermediário e, a partir do vértice que finaliza esse caminho, uma outra aresta é feita em direção a esse vértice intermediário. Por fim, uma aresta é feita partindo do segundo nó intermediário ao primeiro.

Em seguida são adicionados vértices representando as cláusulas, cada cláusula será ligada a 2 nós de cada caminho correspondente a uma variável existente na cláusula, os nós a que serão ligados corresponde ao primeiro nó ímpar do caminho e o primeiro nó par que ainda não foram ligados a uma cláusula (considera-se que os nós de cada caminho estão numerados de 1 a 2k, a partir do nó que inicia o caminho). Se na cláusula, a variável não-negada está contida, o caminho é feito a partir do nó ímpar até o nó par passando pelo nó da cláusula. Caso seja a negação da variável que esteja presente o caminho é contrário, sai do nó par em direção ao nó ímpar passando pelo nó da cláusula.

Nesse grafo cada um dos n caminhos podem ser percorridos da direita para a esquerda ou da esquerda para a direita. Desse modo existem $$2^n$$ ciclos diferentes. Além disso, atravessando um caminho da esquerda para a direita permite verificar que uma variável é verdadeira e da direita para a esquerda que é falsa e cada cláusula é visitada passando por algum caminho na direção correta para cada variável presente na cláusula. Assim, o ciclo Hamiltoniano dirigido satisfaz o 3-SAT e pode ser considerado NP-completo.

Para verificar que o ciclo não-dirigido também é NP-completo, basta substituir cada aresta do não-dirigido por 2 arestas em sentidos contrários. Isso mantém as características de um não-dirigido, mas o torna dirigido. Essa mudança pode ser feita em tempo polinomial, já que é apenas um loop que passa por todas as arestas e as substitui por outras duas. Desse modo, como a redução é possível, o ham-cycle não-dirigido é também NP-completo.


  }
  
\item {\bf (2.5 pontos)} Considere o seguinte jogo em um grafo
  (não-dirigido) $G$, que inicialmente contém 0 ou mais bolas de gude
  em seus vértices: um movimento deste jogo consiste em remover duas
  bolas de gude de um vértice $v\in G$, e adicionar uma bola a algum
  vértice adjacente de $v$. Agora, considere o seguinte problema: Dado
  um grafo $G$, e uma função $p(v)$ que retorna o número de bolas de
  gude no vértice $v$, existe uma sequência de movimentos que remove
  todas as bolas de $G$, exceto uma? Mostre que este problema é
  NP-completo. A mesma observação feita no exercício anterior vale
  aqui: a prova deve ser feita a partir de problemas que provamos
  serem NP-completos, e reduções intermediárias, caso existam, devem
  ser incluídas na solução.

  \resposta{
    Escreva aqui sua solução.
  }
  
\item {\bf (2.5 pontos)} Uma fórmula booleana em {\it forma normal conjuntiva com disjunção exclusiva (FNCX)} é uma conjunção de diversas cláusulas, e cada cláusula é uma disjunção exclusiva (XOR) de diversos literais. Lembre-se que a disjunção exclusiva é dada por:

  $$\begin{array}{|l|l|l|}\hline
      a & b & a \oplus b \\ \hline
      V & V & F \\ \hline
      V & F & V \\ \hline
      F & V & V \\ \hline
      F & F & F \\ \hline
  \end{array}$$

  O problema FNCX-SAT pergunta se uma dada fórmula em FNCX é
  satisfatível. Mostre que o problema FNCX-SAT está em $P$, ou então
  que FNCX-SAT é NP-completo. No último caso, a mesma observação feita
  nos dois exercícios anteriores vale aqui: a prova deve ser feita a
  partir de problemas que provamos serem NP-completos, e reduções
  intermediárias, caso existam, devem ser incluídas na solução.

  \resposta{
    Para provar que o FNCX-SAT é polinomial, basta observar que uma disjunção exclusiva pode ser transformado em uma conjunção de duas disjunções de 2 literais. A primeira disjunção contém as duas variáveis e a segunda disjunção contém a negação das duas variáveis $$(x\lor y)\land (\neg x \lor \neg y)$$, quando x é verdadeiro e y também a primeira cláusula é verdadeira, mas a segunda não, logo o resultado é falso. Quando apenas uma das variáveis é verdadeira, cada cláusula é verdadeira, então o resultado é verdadeiro. Se as duas variáveis são falsas, a primeira cláusula é falsa e a segunda verdadeira, logo é o resultado é falso. Isso é o mesmo resultado da disjunção exclusiva. Logo, uma disjunção exclusiva pode ser transformada em uma conjunção de 2 disjunções de 2 variáveis, que corresponde um a problema 2-SAT. Logo, como foi mostrado na questão 1 que 2-SAT é polinomial, essa disjunção também está em $P$.
  }
\end{enumerate}

\end{document}

%%% Local Variables:
%%% mode: latex
%%% TeX-master: t
%%% End:
